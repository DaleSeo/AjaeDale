---
import type { Lang } from "../utils/i18n";
import { getLocalizedUrl } from "../utils/i18n";

interface Props {
  lang?: Lang;
}

const { lang = "ko" } = Astro.props;

// 컴포넌트별 메시지 정의
const messages = {
  ko: {
    home: {
      title: "아재달레",
      description:
        "매일 새로운 아재개그를 만나보세요. 재미있는 개그부터 황당한 개그까지!",
    },
    nav: {
      popular: "인기",
      random: "랜덤",
    },
  },
  en: {
    home: {
      title: "AjaeDale",
      description:
        "Discover new Korean puns every day. From hilarious to absurd!",
    },
    nav: {
      popular: "Popular",
      random: "Random",
    },
  },
};

const t = messages[lang as keyof typeof messages] || messages.ko;
---

<section id="home" class="px-4 py-20">
  <div class="container mx-auto text-center">
    <div class="mx-auto max-w-4xl">
      <div class="mb-8">
        <img
          src="/og-image.png"
          alt={t.home.title}
          class="mx-auto h-auto w-full max-w-lg md:max-w-2xl"
          width="1200"
          height="630"
          fetchpriority="high"
          loading="eager"
        />
      </div>

      <p
        class="text-muted-foreground mx-auto mb-8 max-w-2xl text-xl text-pretty"
      >
        {t.home.description}
      </p>

      <div
        class="mb-12 flex flex-col items-center justify-center gap-4 sm:flex-row"
      >
        <a
          href={getLocalizedUrl("/popular", lang)}
          class="bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg px-8 py-3 text-lg font-medium transition-colors"
        >
          {t.nav.popular}
        </a>
        <a
          href={getLocalizedUrl("/random", lang)}
          class="border-border hover:bg-accent rounded-lg border px-8 py-3 text-lg font-medium transition-colors"
        >
          {t.nav.random}
        </a>
      </div>

      <div class="grid grid-cols-1 gap-8 text-center md:grid-cols-3">
        <div class="p-6">
          <div class="text-primary mb-2 text-3xl font-bold">160+</div>
          <div class="text-muted-foreground">
            {lang === "ko" ? "레전드 아재개그" : "Dad Jokes"}
          </div>
        </div>
        <div class="p-6">
          <div class="text-primary mb-2 text-3xl font-bold">50+</div>
          <div class="text-muted-foreground">
            {lang === "ko" ? "다양한 카테고리" : "Categories"}
          </div>
        </div>
        <div class="p-6">
          <div class="text-primary mb-2 text-3xl font-bold">
            {lang === "ko" ? "매일" : "Daily"}
          </div>
          <div class="text-muted-foreground">
            {lang === "ko" ? "새로운 개그 업데이트" : "New Jokes"}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
